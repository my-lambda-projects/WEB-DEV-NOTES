(window.webpackJsonp=window.webpackJsonp||[]).push([["growth.persistent.upgrade.banner~b59ad437"],{"+352":function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"n",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return E}));const a="https://confluence.atlassian.com/display/ConfCloud/Confluence+Cloud+plans",r="confluence-change-edition-section-message",i="confluence-change-edition-remove-restrictions-button",o="confluence-change-edition-notification-dialog",s=3,d=10,c="/admin/billing/applications/change-edition/confluence.ondemand";let l;!function(e){e.DEFAULT="default",e.FLAT="flat",e.INLINE="inline",e.INLINE_MODAL="inline-modal"}(l||(l={}));const u="confluence.frontend.show.standard.upsell",p="confluence-up-flow-modal",f="upflow-confluence-persistent-upgrade",g="upflow-confluence-upgrade-for-admins",T="upflow-confluence-billing-for-admins",h="engaged-upgrade",E="engaged-billing";let b;!function(e){e.CONFLUENCE="confluence.ondemand",e.JIRA_CORE="jira-core.ondemand",e.JIRA_SERVICE_DESK="jira-servicedesk.ondemand",e.JIRA_SOFTWARE="jira-software.ondemand",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.BITBUCKET="bitbucket.ondemand",e.STATUSPAGE="statuspage"}(b||(b={}))},"+eaD":function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),r=n.n(a),i=n("L21V"),o=n("lPJD"),s=n("zfsr"),d=n("cphC"),c=n("xkEZ"),l=n("X2PC"),u=n("TSpG"),p=n("HKB3"),f=n("Uo/y"),g=n("LEcB"),T=n("nDEf"),h=n("ZVKf"),E=n.n(h),b=n("psri"),y=n.n(b),m=n("mvtW"),O=n("oayO");const D=e=>{const t=window.location.href,n={flow:T.o,product:T.C.CONFLUENCE,backPath:t,sourceScreen:e};return"/admin/upflow/paymentDetails?"+(a=n,Object.keys(a).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`).join("&"));var a},I=(e,t,n=!1)=>{if(t>0&&n||t<=0&&!n)return-1;const a=e.findIndex(e=>n?-1*t<e:t>e);return-1===a?e.length-1:a-1},R=e=>{const t=T.b[e];switch(e){case T.n.TRIAL:return{bannerIds:T.i,cadenceLengths:T.j,editionKey:t};case T.n.POST_TRIAL:return{bannerIds:T.e,cadenceLengths:T.f,editionKey:t};case T.n.PRE_TRIAL:default:return{bannerIds:T.g,cadenceLengths:T.h,editionKey:t}}},w=(e,t)=>{const{bannerIds:n,editionKey:a}=R(e),r=((e,t)=>{const{cadenceLengths:n}=R(e);switch(e){case T.n.TRIAL:return I(n,t,!1);case T.n.POST_TRIAL:return I(n,t,!0);case T.n.PRE_TRIAL:default:return 0}})(e,t);try{const e=O.a.getItem(a);if(e){const{cadence:t}=JSON.parse(e);if("number"==typeof t&&t>=0&&t<n.length)return Math.max(t,r)}}catch(i){}return r},A=e=>{E()(T.n,t=>{if(t!==e&&t!==T.n.DEFAULT){const e=T.b[t];e&&O.a.removeItem(e)}})},L=(e,t,n,a=0,r)=>{const i=y()(e.toString().toLowerCase()),o=w(t,a),s=new Date(n).toLocaleString("default",{month:"long",day:"numeric"});switch(t){case T.n.PRE_TRIAL:return r(T.t[o]);case T.n.TRIAL:return r(T.A[o],{edition:i,date:s,daysLeft:a});case T.n.POST_TRIAL:return r(T.r[o],{edition:i,date:s})}return""},P=(e,t,n,a)=>{if(!e)return null;const r=y()(e.toString().toLowerCase());switch(t){case T.n.PRE_TRIAL:return(e=>{const t=w(T.n.PRE_TRIAL,0);return{bannerId:T.g[t],flowId:T.B,openUpflowOnClick:!0,linkText:e(T.s[t]),linkHref:T.D,linkTarget:"",upflowFlow:T.p,upgradeTargetEdition:m.a.STANDARD}})(a);case T.n.TRIAL:return((e,t,n)=>{const a=w(T.n.TRIAL,t),r=T.i[a];let i=T.y[a];return i===T.l&&(i=D(r)),{flowId:T.w[a],openUpflowOnClick:!1,linkText:n(T.x[a]),linkTarget:T.z[a],upflowFlow:"",upgradeTargetEdition:e,bannerId:r,linkHref:i}})(e,n,a);case T.n.POST_TRIAL:return((e,t,n,a)=>{const r=w(T.n.POST_TRIAL,n),i=T.e[r],o=D(i);return{flowId:T.k,openUpflowOnClick:!1,linkText:a(T.q[r],{edition:t}),linkTarget:"_self",upflowFlow:"",upgradeTargetEdition:e,bannerId:i,linkHref:o}})(e,r,n,a)}return null};var N=n("Czhu"),x=n("nnm9"),_=n.n(x),C=n("KsTJ"),U=n("lZoD"),k=n("z9P0"),S=n("WCbN"),v=n.n(S),j=n("3IV/"),B=n("WWAs"),M=n("eoO7"),F=n("kH24"),G=n("OOEx"),H=n.n(G),K=n("+352"),W=n("chGh");const $=C.default.a`
  color: ${j.N0};
  text-decoration: underline;
  cursor: pointer;
  white-space: nowrap;
  &:hover {
    color: ${j.N0};
  }
`,J=Object(i.g)(({bannerId:e,flowId:t,upflowFlow:n,upgradeTargetEdition:i,openUpflowOnClick:o,linkText:d,linkHref:c,linkTarget:l})=>{const{createAnalyticsEvent:u}=Object(k.a)(),{showUpFlow:p,currentEdition:f}=Object(a.useContext)(s.a),g=()=>u(Object(W.b)({eventAction:"clicked",touchpointSubject:T.u,currentEdition:f,touchpointId:e,flowId:t})).fire();return r.a.createElement(a.Fragment,null,o?r.a.createElement($,{"data-testid":"persistent-upgrade-banner-upflow-link",onClick:()=>{n&&i&&(g(),p({touchpointId:e,flow:n,targetEdition:i,epMessageId:K.j}))}},d):r.a.createElement($,{"data-testid":"persistent-upgrade-banner-ahref-link",href:c,onClick:g,target:l},d))}),V=C.default.div`
  margin: 0 50px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`;function X(e){if(e&&(e.style.overflow="hidden",e.firstElementChild)){const t=e.firstElementChild;t.style.paddingTop="0px",t.style.paddingBottom="0px"}}const Y=Object(i.g)(({editionTrialType:e,trialEndDate:t,trialDaysLeft:n,bannerId:i,flowId:o,upflowFlow:d,upgradeTargetEdition:c,openUpflowOnClick:l,linkText:u,linkHref:p,linkTarget:f,intl:g})=>{const{createAnalyticsEvent:h}=Object(k.a)(),{currentEdition:E}=Object(a.useContext)(s.a),b=L(E,e,t,n,g.formatMessage);return Object(a.useEffect)(()=>{h(Object(W.b)({eventAction:"viewed",touchpointSubject:T.u,currentEdition:E,touchpointId:i,flowId:o})).fire()},[h,E,i,o]),r.a.createElement(V,null,r.a.createElement(F.a,{innerRef:X,appearance:e===T.n.POST_TRIAL?"warning":"announcement",icon:e===T.n.POST_TRIAL?r.a.createElement(H.a,{label:"Warning icon",secondaryColor:"inherit"}):r.a.createElement("div",null),isOpen:!0},b," ",r.a.createElement(J,{bannerId:i,flowId:o,upflowFlow:d,upgradeTargetEdition:c,openUpflowOnClick:l,linkText:u,linkHref:p,linkTarget:f})))});var z=n("lSUb"),Q=n("kC4U");const q=Object(z.default)(e=>e?new Promise(async(t,n)=>{try{const{hasPaymentMethod:n,entitlements:a}=await(async e=>{const t=await Object(Q.a)("/gateway/api/growth/persistent-upgrade/upgrades/edition-details/cloudId/"+e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return await t.json()})(e);let r;a&&a.length&&(r=a.find(e=>e.product===T.C.CONFLUENCE)),t(r?{hasPaymentMethod:!!n,isTrial:r.isTrial,trialEndDate:r.trialEndDate,trialDaysLeft:r.trialDaysLeft}:{hasPaymentMethod:!!n,isTrial:!1,trialEndDate:"",trialDaysLeft:0})}catch(a){n({status:a.response?a.response.status:a.status,message:a.message})}}):Promise.reject({message:"No cloudId supplied"})),Z={isTargetAudience:!1,trialEndDate:"",trialDaysLeft:0,editionTrialType:T.n.DEFAULT},ee=C.default.div`
  width: 100%;
  padding: 0px;
  box-sizing: border-box;
  height: ${32}px;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: ${e=>e.theme.backgroundColor};
`,te=C.default.div`
  height: 24px;
  width: 24px;
  cursor: pointer;
  position: absolute;
  right: 10px;
  background-color: ${e=>e.theme.backgroundColor};
  color: ${e=>e.theme.closeColor};
  &:hover {
    color: ${e=>e.theme.hoverColor};
  }
`,ne={backgroundColor:j.N500,closeColor:j.N0,hoverColor:j.N90},ae={backgroundColor:j.Y300,closeColor:j.N700,hoverColor:j.N90},re=Object(i.g)(({onBannerDismiss:e=_.a,onExperimentEnrolled:t=_.a,intl:{formatMessage:n}})=>{const[o,d]=Object(a.useState)(!1),{createAnalyticsEvent:c}=Object(k.a)(),{cloudId:l,currentEdition:u}=Object(a.useContext)(s.a),{isTargetAudience:p,editionTrialType:f,trialEndDate:g,trialDaysLeft:h}=((e,t)=>{const[n,r]=Object(a.useState)(Z),{createAnalyticsEvent:i}=Object(k.a)();return Object(a.useEffect)(()=>{t===m.a.FREE?r(Object(N.a)(Object(N.a)({},Z),{},{isTargetAudience:!0,editionTrialType:T.n.PRE_TRIAL})):q(e).then(e=>{const{hasPaymentMethod:t,isTrial:n,trialEndDate:a,trialDaysLeft:i}=e;!t&&n&&a&&r({isTargetAudience:!0,trialEndDate:a,trialDaysLeft:i,editionTrialType:i>0?T.n.TRIAL:T.n.POST_TRIAL})},e=>{i(Object(W.a)({error:e})).fire()})},[e,t,i]),n})(l,u);if(!p||f===T.n.DEFAULT)return null;if(!t(f,h))return null;const E=P(u,f,h,n);if(!E)return null;let b=ne;return f===T.n.POST_TRIAL&&(b=ae),o?null:r.a.createElement(U.c,{to:[B.a]},t=>(t.show("PersistentUpgradeBanner",32),r.a.createElement(ee,{theme:b},r.a.createElement(Y,Object(N.a)({editionTrialType:f,trialEndDate:g,trialDaysLeft:h},E)),r.a.createElement(te,{"data-testid":"BannerCloseButton",theme:b,onClick:()=>{d(!0),e(f,h),c(Object(W.b)({eventAction:"dismissed",touchpointSubject:T.u,currentEdition:u,touchpointId:E.bannerId,flowId:E.flowId})).fire(),t.hide("PersistentUpgradeBanner")}},r.a.createElement(i.b,Object(N.a)({},M.a.persistentUpgradeBannerCloseLabel),e=>r.a.createElement(v.a,{label:e}))))))});n.d(t,"PersistentUpgradeBannerComponent",(function(){return ie})),n.d(t,"PersistentUpgradeBannerWrapper",(function(){return oe})),n.d(t,"PersistentUpgradeBanner",(function(){return se}));const ie=({coordinationClient:e})=>{const{cohort:t,fireExposureEvent:n}=Object(g.a)(u.a.PERSISTENT_UPGRADE,p.b,p.a.NOT_ENROLLED),i=Object(a.useCallback)((e,a)=>!(t===p.a.EXPERIMENT&&!((e,t=0)=>{const{cadenceLengths:n,editionKey:a}=R(e);if(a)try{if(!O.a.doesContain(a))return!0;{const{cadence:r,showAfter:i}=JSON.parse(O.a.getItem(a));switch(e){case T.n.PRE_TRIAL:return i<=Date.now();case T.n.POST_TRIAL:return r<=I(n,t,!0);case T.n.TRIAL:return r<=I(n,t);default:return!1}}}finally{A(e)}return!1})(e,a))&&(n(),t===p.a.EXPERIMENT),[t,n]),s=Object(a.useCallback)((e,t)=>{((e,t)=>{const{bannerIds:n,cadenceLengths:a,editionKey:r}=R(e);if(r){const i=w(e,t),o=e===T.n.POST_TRIAL?i+1:Math.min(i+1,n.length-1),s={cadence:o};e===T.n.PRE_TRIAL&&(s.showAfter=Date.now()+a[o]),O.a.setItem(r,JSON.stringify(s))}})(e,t)},[]);return t===p.a.NOT_ENROLLED?null:r.a.createElement(o.a,{client:e,messageId:T.d},r.a.createElement(re,{onBannerDismiss:s,onExperimentEnrolled:i}))},oe=({coordinationClient:e,intl:{locale:t}})=>{const{cloudId:n,currentEdition:i,isSiteAdmin:o}=Object(a.useContext)(s.a);return o&&Object(f.a)(t)&&i&&n?r.a.createElement(ie,{coordinationClient:e}):null},se=Object(i.g)(Object(c.b)({attribution:l.a.GROWTH_UPFLOW})(Object(d.a)(oe)))},D49j:function(e,t,n){var a=n("zWgn");e.exports=function(e){return"function"==typeof e?e:a}},HKB3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n("Kttv"),r=n.n(a);let i;!function(e){e.ENROLLED="enrolled",e.NOT_ENROLLED="not-enrolled",e.CONTROL="control",e.EXPERIMENT="experiment"}(i||(i={}));const o=(e,t,n)=>e.getVariantValue(t,{default:i.NOT_ENROLLED,oneOf:[i.EXPERIMENT,i.NOT_ENROLLED,i.CONTROL,i.ENROLLED],shouldTrackExposureEvent:n}),s=e=>parseInt(r()(e).substring(0,7),16)%100<20,d=Object.keys(i).map(e=>i[e])},TSpG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={IN_CONTEXT_MODAL:"confluence.frontend.growth.experiments.incontext.modal.upgrade",END_USER_REQUEST:"confluence.frontend.growth.experiments.request.upgrade",IN_CONTEXT_MODAL_PRICING:"confluence.frontend.growth.experiments.incontext.modal.upgrade.with.price",ENGAGED_ADMINS:"confluence.frontend.growth.experiments.engaged.upgrade",ENGAGED_BILLING:"confluence.frontend.growth.experiments.engaged.billing",ENHANCED_FEATURE_GATES:"confluence.frontend.growth.experiments.enhanced.feature.gates",PERSISTENT_UPGRADE:"confluence.frontend.growth.experiments.persistent.upgrade",ACCOUNT_SETUP:"confluence.frontend.onboarding.account.setup",QUICKSTART:"confluence.frontend.onboarding.quickstart",ONBOARDING_NUDGE:"confluence.frontend.onboarding.nudges",AUTOSHOW_NUDGES:"confluence.frontend.onboarding.autoshow.nudges",LAND_IN_SPACE_OVERVIEW:"confluence.frontend.onboarding.land.in.space.overview",ONBOARDING_EXP_FLAG:"confluence.frontend.onboarding.experience",ONBOARDING_BANNER:"confluence.frontend.onboarding.banner",ONBOARDING_ANIMATED_MODAL_FLAG:"confluence.frontend.onboarding.spotlights.modal.animation",ONBOARDING_STATE_UPDATE_FLAG:"confluence.frontend.onboarding.state.update",ANYONE_CAN_INVITE_FLAG_KEY:"confluence.frontend.anyone.can.invite.free.sites",NUX_EXAMPLE_EMAIL_PLACEHOLDER:"confluence.frontend.show.email.placeholder",NEW_PAGE_LAYOUT_FF:"confluence.frontend.app-navigation.new-layout",SKIP_JSW_ONBOARDING_CHECK:"confluence.frontend.skip.check.for.jsw.onboarding.experiment",SWITCHER_JOINABLE_PRODUCTS_FF:"confluence.frontend.enable.joinable-products",SHARE_TO_SLACK_FF:"confluence.frontend.growth.middy.cohort",ONBOARDING_QUICKSTART_GSYNC_FLAG:"confluence.frontend.growth.experiments.gsync.enabled",ONBOARDING_QUICKSTART_INVITEE_LIST_FLAG:"confluence.frontend.growth.experiments.invitee-list.enabled",THIRD_PARTY_INVITES:"confluence.frontend.invite.from.integrations",NTH_USER_QUICKSTART:"confluence.frontend.onboarding.nth.user.quickstart"}},"Uo/y":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{let t=!0,n=!0;return e&&(t=-1!==e.toLowerCase().indexOf("en",0)),navigator&&(n=navigator.language.includes("en")),n&&t}},WCbN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("ERkP")),r=i(n("4KTy"));function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var s=function(e){return a.default.createElement(r.default,o({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.508.508 0 0 0-.36-.153.5.5 0 0 0-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};s.displayName="EditorCloseIcon";var d=s;t.default=d},WWAs:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var a=n("Czhu"),r=n("zjfJ"),i=n("lZoD"),o=n("+FBq");const s=(e,t)=>t.indexOf(t.filter(t=>t.name===e)[0]);class d extends i.a{constructor(...e){super(...e),Object(r.a)(this,"state",{banners:[],isTopNavEnabled:!1}),Object(r.a)(this,"_updateServerRenderedBanners",e=>{0===e?this.hide("ServerRenderedBanners"):this.show("ServerRenderedBanners",e)}),Object(r.a)(this,"setTopNavEnabled",e=>{this.state.isTopNavEnabled!==e&&this.setState(t=>Object(a.a)(Object(a.a)({},t),{},{isTopNavEnabled:e}))}),Object(r.a)(this,"show",(e,t)=>{const n=s(e,this.state.banners);-1===n?this.setState(n=>{const r=[...n.banners];return r.push({name:e,height:t}),Object(a.a)(Object(a.a)({},n),{},{banners:r})}):this.state.banners[n].height!==t&&this.setState(e=>{const r=[...e.banners];return r[n].height=t,Object(a.a)(Object(a.a)({},e),{},{banners:r})})}),Object(r.a)(this,"hide",e=>{const t=s(e,this.state.banners);t>-1&&this.setState(e=>{const n=[...e.banners];return n.splice(t,1),Object(a.a)(Object(a.a)({},e),{},{banners:n})})}),Object(r.a)(this,"getTotalHeight",e=>{const t=this.state.isTopNavEnabled&&!1!==(e&&e.includeTopNav);return this.state.banners.reduce((e,t)=>e+t.height,t?o.c:0)})}}},ZVKf:function(e,t,n){var a=n("UdtX"),r=n("D49j"),i=n("zH+d");e.exports=function(e,t){return null==e?e:a(e,r(t),i)}},chGh:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("nDEf");const r=(e,t,n)=>({currentEdition:e,touchpointId:t,flowId:n,growthExperiment:a.m}),i=({eventAction:e,touchpointSubject:t,currentEdition:n,touchpointId:i,flowId:o})=>({type:"sendUIEvent",data:{action:e,actionSubject:t,source:a.m,attributes:r(n,i,o)}}),o=({error:e})=>({type:"sendOperationalEvent",data:{source:a.m,action:"failed",actionSubject:"apiCall",actionSubjectId:"getEditionDetails",attributes:{growthExperiment:a.m,errorStatus:e.status,errorMessage:e.message}}})},cphC:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("Czhu"),r=n("zjfJ"),i=n("ERkP"),o=n.n(i),s=n("fYnN"),d=n.n(s),c=n("C+A9"),l=n("KIs4");const u=()=>{};function p(e){var t,n;return n=t=class extends i.Component{constructor(...e){super(...e),Object(r.a)(this,"isEngagementDisabledForTests",Boolean(d.a.get("confluence.disable-engagement-for-tests")))}render(){return o.a.createElement(l.a,null,({cloudId:t})=>{const n=this.isEngagementDisabledForTests?{start:u,stop:u}:new c.a(t,"/gateway/api");return o.a.createElement(e,Object(a.a)(Object(a.a)({},this.props),{},{coordinationClient:n}))})}},Object(r.a)(t,"displayName",`withCoordinationClient(${e.displayName||e.name})`),n}},eoO7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("L21V");const r=Object(a.f)({persistentUpgradeBannerPreTrialDay0Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day0.primary",defaultMessage:"Does your team need more from Confluence?",description:"Pre-trial Day0 text displayed in a banner at the top of the screen encouraging upgrade"},persistentUpgradeBannerPreTrialDay0Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day0.link",defaultMessage:"Try a free trial of Standard plan.",description:"Pre-trial Day0 call to action after the primary text"},persistentUpgradeBannerPreTrialDay7Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day7.primary",defaultMessage:"Set page and space permissions.",description:"Pre-trial Day7 text displayed in a banner at the top of the screen encouraging upgrade"},persistentUpgradeBannerPreTrialDay7Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day7.link",defaultMessage:"Try it in a 30-day trial of Confluence Standard.",description:"Pre-trial Day7 call to action after the primary text"},persistentUpgradeBannerPreTrialDay21Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day21.primary",defaultMessage:"You're eligible for a free 30-day trial of our Confluence Standard plan.",description:"Pre-trial Day21 text displayed in a banner at the top of the screen encouraging upgrade"},persistentUpgradeBannerPreTrialDay21Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day21.link",defaultMessage:"Start now!",description:"Pre-trial Day21 call to action after the primary text"},persistentUpgradeBannerPreTrialDay42Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day42.primary",defaultMessage:"Unlock more features with a",description:"Pre-trial Day42 text displayed in a banner at the top of the screen encouraging upgrade"},persistentUpgradeBannerPreTrialDay42Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.pretrial.day42.link",defaultMessage:"free 30-day trial of Confluence Standard plan.",description:"Pre-trial Day42 call to action after the primary text"},persistentUpgradeBannerTrialDay0Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day0.primary",defaultMessage:"Your {edition} trial has begun!",description:"Trial Day0 text displayed in a banner at the top of the screen encouraging watch a tutorial"},persistentUpgradeBannerTrialDay0Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day0.link",defaultMessage:"Watch a Confluence tutorial to get started.",description:"Trial Day0 call to action after the primary text"},persistentUpgradeBannerTrialDay15Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day15.primary",defaultMessage:"Trial ends {date}.",description:"Trial Day15 text displayed in a banner at the top of the screen"},persistentUpgradeBannerTrialDay15Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day15.link",defaultMessage:"Connect your team's most-used apps to Confluence.",description:"Trial Day15 call to action after the primary text"},persistentUpgradeBannerTrialDay5Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day5.primary",defaultMessage:"You’ve got the {edition} plan for {daysLeft} more days!",description:"Trial Day5 text displayed in a banner at the top of the screen"},persistentUpgradeBannerTrialDay5Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day5.link",defaultMessage:"Add payment info to keep your team on track.",description:"Trial Day5 call to action after the primary text"},persistentUpgradeBannerTrialDay1Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day1.primary",defaultMessage:"Your {edition} plan trial ends soon.",description:"Trial Day1 text displayed in a banner at the top of the screen"},persistentUpgradeBannerTrialDay1Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.trial.day1.link",defaultMessage:"Add payment info to avoid interruptions.",description:"Trial Day1 call to action after the primary text"},persistentUpgradeBannerPostTrialDay0Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day0.primary",defaultMessage:"Your team’s free trial is over.",description:"Post-trial Day0 text displayed in a banner at the top of the screen encouraging add payment info"},persistentUpgradeBannerPostTrialDay0Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day0.link",defaultMessage:"Add payment info to continue using Confluence {edition}.",description:"Post-trial Day0 call to action after the primary text"},persistentUpgradeBannerPostTrialDay5Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day5.primary",defaultMessage:"Your trial has ended.",description:"Post-trial Day5 text displayed in a banner at the top of the screen encouraging add payment info"},persistentUpgradeBannerPostTrialDay5Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day5.link",defaultMessage:"Add payment info to maintain access for all your Confluence users.",description:"Post-trial Day5 call to action after the primary text"},persistentUpgradeBannerPostTrialDay10Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day10.primary",defaultMessage:"Trial ended – Want to keep Confluence {edition}'s advanced features?",description:"Post-trial Day10 text displayed in a banner at the top of the screen encouraging add payment info"},persistentUpgradeBannerPostTrialDay10Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day10.link",defaultMessage:"Add payment info now.",description:"Post-trial Day10 call to action after the primary text"},persistentUpgradeBannerPostTrialDay14Text:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day14.primary",defaultMessage:"Trial ended {date}.",description:"Post-trial Day14 text displayed in a banner at the top of the screen encouraging add payment info"},persistentUpgradeBannerPostTrialDay14Link:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.posttrial.day14.link",defaultMessage:"Add payment info to maintain your team's full access to space and page features.",description:"Post-trial Day14 call to action after the primary text"},persistentUpgradeBannerCloseLabel:{id:"persistent-upgrade.section.message.persistent-upgrade.banner.close",defaultMessage:"Close",description:"Accessibility label for close button"}})},kH24:function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),i=n("KsTJ"),o=n("3IV/"),s=n("w301"),d=n("BMbf"),c=n("ZgvQ");const l=Object(s.a)("appearance",{error:{light:o.R400,dark:o.R300},warning:{light:o.Y300,dark:o.Y300},announcement:{light:o.N500,dark:o.N500}}),u=i.default.div`
  max-height: ${({appearance:e})=>"announcement"===e?"88px":"52px"};
  overflow: ${({appearance:e})=>"announcement"===e?"scroll":"visible"};
  background-color: ${l};
`,p=(o.R400,o.N0,Object(s.a)("appearance",{error:{light:o.N0,dark:o.DN40},warning:{light:o.N700,dark:o.DN40},announcement:{light:o.N0,dark:o.N0}})),f=i.default.div`
  align-items: center;
  background-color: ${l};
  color: ${p};
  display: flex;
  fill: ${l};
  font-weight: 500;
  justify-content: center;
  padding: ${Object(c.multiply)(d.h,1.5)}px;
  text-align: center;
  ${""}

  margin: auto;
  ${({appearance:e})=>"announcement"===e?"max-width: 876px;":""} transition: color ${"0.25s ease-in-out"};

  a,
  a:visited,
  a:hover,
  a:active,
  a:focus {
    color: ${p};
    text-decoration: underline;
  }
`,g=i.default.span`
  align-items: center;
  display: flex;
  flex-direction: column;
  flex: 0 0 auto;
`,T=i.default.div`
  max-height: ${e=>e.isOpen?e.bannerHeight:0}px;
  overflow: hidden;
  transition: max-height ${"0.25s ease-in-out"};
`,h=i.default.span`
  flex: 0 1 auto;
  padding: ${Object(c.divide)(d.h,2)}px;
  ${({appearance:e})=>"announcement"===e?"":i.css`
        text-overflow: ellipsis;
        white-space: nowrap;
      `};
  overflow: hidden;
`;class E extends r.a.Component{constructor(){super(...arguments),this.state={height:0},this.getHeight=()=>{this.containerRef&&this.setState({height:this.containerRef.clientHeight})},this.innerRef=e=>{this.containerRef=e,this.props.innerRef&&this.props.innerRef(e),this.getHeight()}}render(){const{appearance:e,children:t,icon:n,isOpen:a,testId:i}=this.props;return r.a.createElement(T,{bannerHeight:this.state.height,isOpen:a},r.a.createElement(u,{innerRef:this.innerRef,appearance:e,"aria-hidden":!a,role:"alert","data-testid":i},r.a.createElement(f,{appearance:e},r.a.createElement(g,null,n),r.a.createElement(h,{appearance:e},t))))}}E.defaultProps={appearance:"warning",isOpen:!1};t.a=E},mvtW:function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return a})),function(e){e.FREE="FREE",e.PREMIUM="PREMIUM",e.STANDARD="STANDARD"}(a||(a={}))},nDEf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"D",(function(){return o})),n.d(t,"C",(function(){return s})),n.d(t,"n",(function(){return d})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return T})),n.d(t,"m",(function(){return h})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"o",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"B",(function(){return D})),n.d(t,"k",(function(){return I})),n.d(t,"w",(function(){return R})),n.d(t,"c",(function(){return w})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return L})),n.d(t,"x",(function(){return P})),n.d(t,"A",(function(){return N})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return _})),n.d(t,"z",(function(){return C})),n.d(t,"l",(function(){return U})),n.d(t,"y",(function(){return k}));var a=n("SRtI"),r=n("eoO7");const i=30,o="/gpa-up-flow";let s,d;!function(e){e.CONFLUENCE="confluence.ondemand",e.JIRA_CORE="jira-core.ondemand",e.JIRA_SERVICE_DESK="jira-servicedesk.ondemand",e.JIRA_SOFTWARE="jira-software.ondemand",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.BITBUCKET="bitbucket.ondemand",e.STATUSPAGE="statuspage"}(s||(s={})),function(e){e.DEFAULT="default",e.PRE_TRIAL="pre-trial",e.TRIAL="trial",e.POST_TRIAL="post-trial"}(d||(d={}));const c=["preTrial-0","preTrial-1","preTrial-2","preTrial-3"],l=["trial-0","trial-1","trial-2","trial-3"],u=["postTrial-0","postTrial-1","postTrial-2","postTrial-3"],p=[0,6048e5,18144e5,36288e5],f=[Number.MAX_SAFE_INTEGER,15,5,1],g=[0,5,10,14],T="upflow-confluence-persistent-banner",h="persistentUpgrade",E="persistentUpgradeBanner",b="persistentUpgradeMenu",y="persistent-upgrade",m="engaged-billing",O={[d.PRE_TRIAL]:a.b.GROWTH_EXPERIMENT_PERSISTENT_UPGRADE_PRETRIAL_BANNER,[d.TRIAL]:a.b.GROWTH_EXPERIMENT_PERSISTENT_UPGRADE_TRIAL_BANNER,[d.POST_TRIAL]:a.b.GROWTH_EXPERIMENT_PERSISTENT_UPGRADE_POSTTRIAL_BANNER},D="upgradeFlow",I="addPaymentFlow",R=["helpFlow","helpFlow",I,I],w={[d.PRE_TRIAL]:"preTrialMenu"},A=[r.a.persistentUpgradeBannerPreTrialDay0Link,r.a.persistentUpgradeBannerPreTrialDay7Link,r.a.persistentUpgradeBannerPreTrialDay21Link,r.a.persistentUpgradeBannerPreTrialDay42Link],L=[r.a.persistentUpgradeBannerPreTrialDay0Text,r.a.persistentUpgradeBannerPreTrialDay7Text,r.a.persistentUpgradeBannerPreTrialDay21Text,r.a.persistentUpgradeBannerPreTrialDay42Text],P=[r.a.persistentUpgradeBannerTrialDay0Link,r.a.persistentUpgradeBannerTrialDay15Link,r.a.persistentUpgradeBannerTrialDay5Link,r.a.persistentUpgradeBannerTrialDay1Link],N=[r.a.persistentUpgradeBannerTrialDay0Text,r.a.persistentUpgradeBannerTrialDay15Text,r.a.persistentUpgradeBannerTrialDay5Text,r.a.persistentUpgradeBannerTrialDay1Text],x=[r.a.persistentUpgradeBannerPostTrialDay0Link,r.a.persistentUpgradeBannerPostTrialDay5Link,r.a.persistentUpgradeBannerPostTrialDay10Link,r.a.persistentUpgradeBannerPostTrialDay14Link],_=[r.a.persistentUpgradeBannerPostTrialDay0Text,r.a.persistentUpgradeBannerPostTrialDay5Text,r.a.persistentUpgradeBannerPostTrialDay10Text,r.a.persistentUpgradeBannerPostTrialDay14Text],C=["_blank","_self","_self","_self"],U="addPaymentInfoLink",k=["https://www.youtube.com/watch?v=5iFfQVWktCA","/wiki/plugins/servlet/ac/com.atlassian.confluence.emcee/discover#!/discover",U,U]},zfsr:function(e,t,n){"use strict";var a=n("ERkP"),r=n.n(a),i=n("1U1M"),o=n("U63R"),s=n("w7pu"),d=n("fDrt"),c=n("X2PC"),l=n("6n9r"),u=n("t0Ff"),p=n("RfuI");const f=Object(p.a)({id:"J1ypV",name:"UpFlowLoadable",loader:async()=>(await Promise.all([n.e("afp~af75c846"),n.e("vendors~4134d62c"),n.e("upflow~0ae2caf4")]).then(n.bind(null,"FdbS"))).UpFlowComponent});n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return T}));const g=Object(a.createContext)({shouldShow:!1,isSiteAdmin:!1,cloudId:"",currentEdition:void 0,showUpFlow:()=>{},hideUpFlow:()=>{}}),T=({children:e})=>{const[t,n]=Object(a.useState)(!1),[p,T]=Object(a.useState)(""),[h,E]=Object(a.useState)(),[b,y]=Object(a.useState)(),[m,O]=Object(a.useState)(""),[D,I]=Object(a.useState)(""),{isSiteAdmin:R,tenantId:w}=Object(a.useContext)(s.a),{data:A}=Object(i.d)(u.a,{}),L=()=>{T(""),O(""),I(""),n(!1)};Object(a.useEffect)(()=>{E(Object(l.a)(A))},[A]);const P={shouldShow:t,isSiteAdmin:R,cloudId:w,currentEdition:h,showUpFlow:({touchpointId:e,targetEdition:t,flow:a,epMessageId:r})=>{T(e),y(t),O(a),I(r),n(!0)},hideUpFlow:L};return r.a.createElement(g.Provider,{value:P},e,t&&b&&m?r.a.createElement(d.a,{attribution:c.a.GROWTH_UPFLOW},r.a.createElement(f,{priority:o.a.BACKGROUND,canChangeEdition:R,cloudId:w,currentEdition:h,flow:m,product:"confluence",targetEdition:b,touchpointId:p,onClose:L,onOpen:()=>{},epMessageId:D})):null)},{Consumer:h}=g}}]);
//# sourceMappingURL=growth.persistent.upgrade.banner~b59ad437.MoxKLj5Eht.js.map